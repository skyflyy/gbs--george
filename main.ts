namespace SpriteKind {
    export const life = SpriteKind.create()
    export const littleEnemy = SpriteKind.create()
    export const bossEnemy = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.bossEnemy, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(-5)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.littleEnemy, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(-1)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . e e e e e e e e e . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, ninja, 0, -100)
})
info.onCountdownEnd(function () {
    bossEnemyLife = 8
    bossSprite = sprites.create(img`
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        ............................bbbbbbbbbbbbbbb..................................
        ..........................bb5555555555555bbbb................................
        .........................bb55555555555555555bbb....bbc.......................
        ........................bb55555555555555555555bb..bbcc.......................
        ........................5555555555555555555555555cccc........................
        .......................b555b5555555d55555555555555ccc........................
        .......................b555b5555555b55555555555555ccc........................
        .......................c5555555555555555555ccc55555cc....cc..................
        .......................c555bccccccb55555555cbbc555555ccbbbc..................
        .......................c55bdcccccccb155555555555555555cbcc...................
        .......................c55bccccccccc11b555555555555555cccc...................
        ........................55cccccccccc11c555555555555555dccc...................
        ........................c5cccccccccccccb115555b55555555dcc...................
        ........................c55ccccccccccccc1bcccb555555555ddc...................
        .........................c55ccccccccccccccccc555555555dddcccbb...............
        ..........................cc5dcc333bc33333cb555555555555ddcccc...............
        ...........................c5553333b333333c555555555555dddcccc...............
        ............................cb533333333333c555555555555d55cccc...............
        ............................cb53333333333b5d55555555555555cccc...............
        ......................ccc...c55333333b1355d55555555555dddddcc................
        .....................c55cc..c55333333b155dd555555555555ddddcc................
        .....................c55bc..c55333333b55dd5555555555555dddddcc...............
        ....................cc55ddc.cb531333355dd5555555ccc555ddddddccccc............
        ...................c5dbbdddc..c555555dbd55555555cb555cccddddcccc.............
        ...................c55bdbbb5..cbbbbbbbdd555555cccb55bbdbcdddbcc..............
        ....................bbbdb555cccdbbbbdddd555555c5ccbbb555bcdddc...............
        ...................cd555555bbb5ddddddddd555555b555db555555dddc...............
        .................c55bb555555b55dddddddd55555555bc5ddddbb55cdddc..............
        .................c555b555555555dddddddd555555555c5dddbbb55cbddc..............
        ..................cbb55555db55555ddddd5555555555ccddbb55555bbbdc.............
        ....................ccdddddb555555555555555555555c555bb55555ddddc............
        .....................ccdddb555555555555555555555555555dd55555dddc............
        ......................cdddb5555555555555555555555dc555dd555555ddc............
        ..........cc..........ccdbd555555555555555555555d5c555d5555555ddc............
        ..........c5b...........cbd555555555555555555555dddc5555555555dcc............
        ..........cbbb..........cbdd5555555555555555555d5ddcc55555555ddcc............
        ..........cb5b...........cdd555555555555555555555dddcc555555ddcc.............
        ..........cb5b...........cdd555555555555555555d5ddddddcc55ddddc..............
        .........cb55bb..........cbd555dd5555555555dddddddddddddddddddcc.............
        .........cb55bb.........ccbdd5d555555dd555555dddddddddddddddddccc............
        .........c5555b.........ccbbddddd5555555ddd5dddddddddddddddddbcc.............
        ........cb5555b........ccbbbddd55dd5555ddddddddddddddddddddddbc..............
        ........c555555b....bbddb555555dddddddd55ddddddddddddd5dddddbb...............
        ........c5555555bbbbdddd5555555ddddddddddddddddddddddddd555ddb...............
        ........cd55555555dddddc5555555ddddddddddddddddddddddd5555555d...............
        ........cdd555555dddddc55555555ddddddddddddddddddddd5555555555c..............
        ........cddd5555dddddcc55555555ddddddddddddddddddddddd55555555cc.............
        ........ccdddddddddddc555555555ddddddddddddddddddddddd555555555c.............
        .........cdddddddddddc555555555ddddddddddddddddddddddd555555555c.............
        ..........ccddddddddcc555555d55dddddddddddddddbdddddd55555555555c............
        ...........cddddddddccd555ddddddddddbbddddddddbddddddd5555555555c............
        ............ccddddddcddddddddddddddbbddddddddbbdddddddd555555555c............
        .............cccddddcddddddddddddddcccccccccbbbddddddddd5555555dc............
        ..................cc55555dddddddccc..........ccbdddddddddd5555ddcc...........
        ...................c555555dddddcc..............ccdddddddddddddddcc...........
        .................ccddccd55ddcccc................ccddddddddd555555d...........
        ................ccddccddddcdcc...................ccddddddd5555555dc..........
        ................cccccddccccdc.........................cdddddccdddcddc........
        ....................cdc....cc.........................ccccdddcddddddc........
        ....................cc..................................cccdddcccdccc........
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        .............................................................................
        `, SpriteKind.bossEnemy)
    bossSprite.setPosition(randint(10, 160), 0)
    bossSprite.setVelocity(0, 20)
    info.startCountdown(6)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.bossEnemy, function (sprite, otherSprite) {
    animation.runImageAnimation(
    ninja,
    [img`
        ........................
        .....ffff...............
        ...fff22fff.............
        ..fff2222fff............
        .fffeeeeeefff...........
        .ffe222222eef...........
        .fe2ffffff2ef...........
        .ffffeeeeffff...........
        ffefbf44fbfeff..........
        fee41fddf14eef..........
        .ffffdddddeef...........
        fddddf444eef............
        fbbbbf2222f4e...........
        fbbbbf2222fd4...........
        .fccf45544f44...........
        ..ffffffff..............
        ....ff..ff..............
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ......ffff..............
        ....fff22fff............
        ...fff2222fff...........
        ..fffeeeeeefff..........
        ..ffe222222eef..........
        ..fe2ffffff2ef..........
        ..ffffeeeeffff..........
        .ffefbf44fbfeff.........
        .fee41fddf14eef.........
        fdfeeddddd4eff..........
        fbffee444edd4e..........
        fbf4f2222edde...........
        fcf.f22cccee............
        .ff.f44cdc4f............
        ....fffddcff............
        .....fddcff.............
        ....cddc................
        ....cdc.................
        ....cc..................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        .......ff...............
        .....ff22ff.............
        ...fff2222fff...........
        ..fff222222fff..........
        ..fff222222fff..........
        ..feeeeeeeeeeff.........
        .ffe22222222eff.........
        .fffffeeeefffff.........
        fdfefbf44fbfeff.........
        fbfe41fddf14ef..........
        fbffe4dddd4efe..........
        fcfef22222f4e...........
        .ff4f44554f4e...........
        ....ffffffdde...........
        .....ffffedde...........
        ..........ee............
        .........ccc............
        ........cc1cc...........
        .........c1c............
        .........c1c............
        .........c1c............
        .........c1c............
        `,img`
        ......ffff..............
        ....fff22fff............
        ...fff2222fff...........
        ..fffeeeeeefff..........
        ..ffe222222eef..........
        ..fe2ffffff2ef..........
        ..ffffeeeeffff......ccc.
        .ffefbf44fbfeff....cddc.
        .ffefbf44fbfeff...cddc..
        .fee4dddddd4eef.ccddc...
        fdfeeddddd4eeffecddc....
        fbffee4444ee4fddccc.....
        fbf4f222222f1edde.......
        fcf.f222222f44ee........
        .ff.f445544f............
        ....ffffffff............
        .....ff..ff.............
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `],
    500,
    false
    )
    sprites.destroy(sprite)
    if (bossEnemyLife == 0) {
        info.changeScoreBy(20)
        sprites.destroy(otherSprite, effects.fire, 100)
    } else {
        bossSprite.startEffect(effects.fire)
        bossEnemyLife += 0 - 1
    }
})
info.onScore(150, function () {
    game.gameOver(true)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.life, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeScoreBy(10)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    sprites.destroy(otherSprite, effects.fire, 100)
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.littleEnemy, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    sprites.destroy(otherSprite, effects.fire, 100)
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(-1)
})
let enemySprite: Sprite = null
let lifeSprite: Sprite = null
let mySprite: Sprite = null
let bossSprite: Sprite = null
let bossEnemyLife = 0
let projectile: Sprite = null
let ninja: Sprite = null
game.splash("ESCAPE THE MONSTERS HOUSE")
scene.setBackgroundColor(2)
ninja = sprites.create(img`
    ........................
    ......ffff..............
    ....fff22fff............
    ...fff2222fff...........
    ..fffeeeeeefff..........
    ..ffe222222eef..........
    ..fe2ffffff2ef..........
    ..ffffeeeeffff..........
    .ffefbf44fbfeff.........
    .fee41fddf14eef.........
    fdfeeddddd4eff..........
    fbffee444edd4e..........
    fbf4f2222edde...........
    fcf.f22cccee............
    .ff.f44cdc4f............
    ....fffddcff............
    .....fddcff.............
    ....cddc................
    ....cdc.................
    ....cc..................
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
ninja.setPosition(80, 100)
controller.moveSprite(ninja, 100, 0)
info.setScore(0)
info.setLife(5)
info.startCountdown(5)
game.onUpdateInterval(5000, function () {
    mySprite = sprites.create(img`
        . . . . . . . . . . . 6 6 6 6 6 
        . . . . . . . . . 6 6 7 7 7 7 8 
        . . . . . . 8 8 8 7 7 8 8 6 8 8 
        . . e e e e c 6 6 8 8 . 8 7 8 . 
        . e 2 5 4 2 e c 8 . . . 6 7 8 . 
        e 2 4 2 2 2 2 2 c . . . 6 7 8 . 
        e 2 2 2 2 2 2 2 c . . . 8 6 8 . 
        e 2 e e 2 2 2 2 e e e e c 6 8 . 
        c 2 e e 2 2 2 2 e 2 5 4 2 c 8 . 
        . c 2 e e e 2 e 2 4 2 2 2 2 c . 
        . . c 2 2 2 e e 2 2 2 2 2 2 2 e 
        . . . e c c e c 2 2 2 2 2 2 2 e 
        . . . . . . . c 2 e e 2 2 e 2 c 
        . . . . . . . c e e e e e e 2 c 
        . . . . . . . . c e 2 2 2 2 c . 
        . . . . . . . . . c c c c c . . 
        `, SpriteKind.Food)
    mySprite.setPosition(randint(10, 160), 0)
    mySprite.setVelocity(0, 40)
})
game.onUpdateInterval(2000, function () {
    lifeSprite = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . 5 5 . . . 5 5 . . . . . 
        . . . 5 2 2 5 . 5 2 2 5 . . . . 
        . . 5 2 2 2 2 5 2 2 2 2 5 . . . 
        . . 5 2 2 2 2 2 2 2 2 2 5 . . . 
        . . . 5 2 2 2 2 2 2 2 5 . . . . 
        . . . . 5 2 2 2 2 2 5 . . . . . 
        . . . . . 5 2 2 2 5 . . . . . . 
        . . . . . . 5 2 5 . . . . . . . 
        . . . . . . . 5 . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.life)
    lifeSprite.setPosition(randint(10, 160), 0)
    lifeSprite.setVelocity(0, 60)
})
game.onUpdateInterval(1000, function () {
    enemySprite = sprites.create(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........1111..........
        ........11111111........
        .......1111111111.......
        .......11ff11ff11.......
        ......111111111111......
        ......1111f11f1111......
        ......1111f11f1111......
        ......11111ff11111......
        .......1111ff1111.......
        .......1111111111.......
        ........11111111........
        ..........1111..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.littleEnemy)
    enemySprite.setPosition(randint(10, 160), 0)
    enemySprite.setVelocity(0, 60)
})
